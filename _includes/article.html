<div class="article{% if include.class %} {{ include.class }}{% endif %}">
  <div class="article__inner">

    <div class="article__head">
      {% if post.image and post.video_embed %}
      <div class="video-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">
          <polygon points="40,30 70,50 40,70"></polygon>
        </svg>
      </div>
      {% endif %}

      <a href="{{ post.url | prepend: site.baseurl }}" class="article__image" aria-hidden="true" tabindex="-1">
        {% if post.image %}
        <img class="lazy" data-src="{{site.baseurl}}{{post.image}}" alt="{{post.title}}">
        {% else %}
        {% assign day_num = post.date | date: "%-d" | times: 1 %}
        {% assign month_num = post.date | date: "%-m" | times: 1 %}
        {% assign year_num = post.date | date: "%Y" | times: 1 %}
        {% assign hash = day_num | plus: month_num | times: 17 | plus: year_num %}
        {% assign pattern_num = hash | modulo: 5 | plus: 1 %}
        <div class="article__pattern article__pattern--{{ pattern_num }}">
          <svg class="pattern-svg" viewBox="0 0 400 300" xmlns="http://www.w3.org/2000/svg">
            <!-- Base dot grid (appears in all patterns) -->
            <g class="base-grid">
              {% for i in (0..19) %}
                {% for j in (0..14) %}
                  <circle class="base-dot" cx="{{ i | times: 20 | plus: 10 }}" cy="{{ j | times: 20 | plus: 10 }}" r="1" />
                {% endfor %}
              {% endfor %}
            </g>

            {% if pattern_num == 1 %}
              <!-- Pattern 1: Expanding Rings -->
              <circle class="ring ring-1" cx="200" cy="150" r="20" />
              <circle class="ring ring-2" cx="200" cy="150" r="40" />
              <circle class="ring ring-3" cx="200" cy="150" r="60" />
              <circle class="ring ring-4" cx="200" cy="150" r="80" />
              <circle class="ring ring-5" cx="200" cy="150" r="100" />
              <circle class="ring ring-6" cx="200" cy="150" r="120" />
            {% elsif pattern_num == 2 %}
              <!-- Pattern 2: Floating Shapes -->
              <circle class="float-shape shape-1" cx="120" cy="100" r="35" />
              <rect class="float-shape shape-2" x="210" y="110" width="60" height="60" rx="8" />
              <polygon class="float-shape shape-3" points="200,200 230,240 170,240" />
              <circle class="float-shape shape-4" cx="280" cy="80" r="30" />
            {% elsif pattern_num == 3 %}
              <!-- Pattern 3: Grid Highlights -->
              <circle class="highlight highlight-1" cx="140" cy="100" r="12" />
              <circle class="highlight highlight-2" cx="200" cy="150" r="12" />
              <circle class="highlight highlight-3" cx="260" cy="100" r="12" />
              <circle class="highlight highlight-4" cx="200" cy="200" r="12" />
              <rect class="highlight-rect rect-1" x="187.5" y="62.5" width="25" height="25" rx="4" />
              <rect class="highlight-rect rect-2" x="187.5" y="137.5" width="25" height="25" rx="4" />
            {% elsif pattern_num == 4 %}
              <!-- Pattern 4: Wave Motion -->
              <path class="wave-path wave-1" d="M 0,80 Q 50,60 100,80 T 200,80 T 300,80 T 400,80" />
              <path class="wave-path wave-2" d="M 0,150 Q 50,130 100,150 T 200,150 T 300,150 T 400,150" />
              <path class="wave-path wave-3" d="M 0,220 Q 50,200 100,220 T 200,220 T 300,220 T 400,220" />
              <circle class="wave-marker marker-1" cx="50" cy="68" r="5" />
              <circle class="wave-marker marker-2" cx="150" cy="138" r="5" />
              <circle class="wave-marker marker-3" cx="250" cy="208" r="5" />
            {% elsif pattern_num == 5 %}
              <!-- Pattern 5: Connected Network -->
              <line class="connect-line line-1" x1="120" y1="100" x2="200" y2="150" />
              <line class="connect-line line-2" x1="200" y1="150" x2="280" y2="100" />
              <line class="connect-line line-3" x1="280" y1="100" x2="320" y2="170" />
              <line class="connect-line line-4" x1="200" y1="150" x2="160" y2="220" />
              <line class="connect-line line-5" x1="160" y1="220" x2="240" y2="220" />
              <line class="connect-line line-6" x1="240" y1="220" x2="280" y2="170" />
              <circle class="network-node node-1" cx="120" cy="100" r="6" />
              <circle class="network-node node-2" cx="200" cy="150" r="8" />
              <circle class="network-node node-3" cx="280" cy="100" r="6" />
              <circle class="network-node node-4" cx="320" cy="170" r="6" />
              <circle class="network-node node-5" cx="160" cy="220" r="6" />
              <circle class="network-node node-6" cx="240" cy="220" r="6" />
              <circle class="network-node node-7" cx="280" cy="170" r="6" />
            {% endif %}
          </svg>
        </div>
        {% endif %}
      </a>
    </div>

    <div class="article__content">
      <div class="article__meta">
        {% if post.tags.size >= 1 %}
        <div class="article__tags">
        {% for tag in post.tags %}
          <a href="{{ site.baseurl }}/tags/?tag={{ tag | downcase | url_encode }}" class="article__tag">{{ tag }}</a>
        {% endfor %}
        </div>
        {% endif %}
        <span class="article__date">â€¢<time datetime="{{ post.date | date_to_xmlschema }}">{% assign date_format = site.minima.date_format | default: "%d %-b, %Y" %}{{ post.date | date: date_format }}</time></span>
      </div>

      <h2 class="article__title">
        <a href="{{ post.url | prepend: site.baseurl }}">{{ post.title }}</a>
      </h2>

      {% if include.description == true %}
      <p class="article__excerpt">{% if post.description %}{{ post.description }}{% else %}{{ post.content | strip_html | truncate: 250 }}{% endif %}</p>
      {% endif %}

    </div>
  </div>
</div>
